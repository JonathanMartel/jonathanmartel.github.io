<polymer-element name="fluid-vids" attributes="src width height">

  <template>
    <style>
    :host {
      display: block;
      width: 100%;
      max-width: 100%;
      position: relative;
    }
    :host iframe {
      vertical-align: bottom;
      position: absolute;
      top: 0px;
      left: 0px;
      width: 100%;
      height: 100%;
    }
    </style>
    <iframe src="{{ src }}" width="{{ width }}" height="{{ height }}" frameborder="0"></iframe>
  </template>

  <script>
  (function () {

    function fluidvids () {
      var getRatio = function (height, width) {
        return ((parseInt(height, 10) / parseInt(width, 10)) * 100) + '%';
      };
      this.style.paddingTop = getRatio(this.height, this.width);
    }

    Polymer('fluid-vids', {
      publish: {
        src: null,
        width: 320,
        height: 180,
      },
      ready: function () {
        fluidvids.call(this);
      }
    });
  })();
  </script>
</polymer-element>
